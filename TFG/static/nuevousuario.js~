$(document).ready(function(){
	$("#dialog").hide();
	$("#nick").keypress(nickPress);
	$("#nick").keydown(nickDown);
	$("#nick").keyup(nickUp);
	$("#contraseña").keypress(contraseñaPress);
	$("#contraseña").keydown(contraseñaDown);
	$("#contraseña").keyup(contraseñaUp);
	$("#imagen").mouseover(function(evento){
		$("#dialog").dialog({width: 590,
            height: 150,
            show: "blind",
            hide: "clip",
            resizable: "false",
            position: "center", position: { my: "bottom", at: "bottom", of: window } 
		});
	});
})

function ComprobarNick(){
	var entrada = document.getElementById("nick").value;
	var salida = document.getElementById("salida");
	var nick = false;
	for (var i=0;i<usuario.length;i++){
		if (usuario[i].fields.nick == entrada){
			var nick = true;
		}
	}	
	if (nick == true){ 
		$("#salida").addClass("red");
		salida.innerHTML = "Nick ocupado"; 
	}
	else if (entrada == ""){ salida.innerHTML = "" }
	else { 
		$("#salida").addClass("green");
		salida.innerHTML = "Nick correcto" ;
	}
}

function nickDown(evento){
	$("#salida").removeClass("red");
	$("#salida").removeClass("green");
	$("#salida").html("");
}

function nickUp(evento){
	$("#salida").html("");
	$("#anima").removeClass("animacion"); 
	ComprobarNick();
	//setTimeout(ComprobarNick,2000)
}

function nickPress(evento){
	$("#anima").addClass("animacion");
	if(evento.which == 0){
		$("#anima").removeClass("animacion");
	}
}

function contraseñaDown(evento){
	$("#contraseñaSalida").removeClass("animacion");
	$("#contraseñaSalida").html(""); 
}

function contraseñaUp(evento){
	$("#contraseñaSalida").removeClass("animacion");
	$("#contraseñaSalida").html(""); 
}

function contraseñaPress(evento){
	$("#contraseñaSalida").addClass("animacion");
}


